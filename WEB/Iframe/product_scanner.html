<!DOCTYPE html>
<html>
  <head>
    <title>QR Code Scanner</title>
    <meta charset="UTF-8" />
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../Iframe/cssIframe/product_scanner.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="./js/accessingAccurateAPIsGroup1.js"></script>
    <script src="./js/sweetalert.js"></script>
    <script src="./jsIframe/qrReader.js"></script>
    <style>
      .productPreview{
        position: fixed;
        top: 30%;
        left: 50%;
        width: 90%;
        height: 80%;
        margin: -45%;
        border-radius: 10px;
        border: solid 2px grey;
        opacity: 0.97;
        display: none;
      }
      #add-item-to-cart-button{
        display: none;
      }

      .help-line-left{
        position: absolute;
        top:  39%;
        left: 41.5%;
        background-color: grey;
        width: 5px;
        height: 50px;
        z-index: 12;
        opacity: 0.9;
        display: none;
      }

      .help-line-right{
        position: absolute;
        top:  39%;
        right: 40%;
        background-color: grey;
        width: 5px;
        height: 50px;
        z-index: 12;
        opacity: 0.9;
        display: none;
      }
      #container{
        /* background-color: red; */
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      #container p{
        font-size: 15px !important;
        padding-left:50px;
        padding-right:50px;
        /* padding-left:20px; */
      }
      #container h1{
        text-align: center;
      }
    </style>
  </head>
  <body onclick="clearPopup()">
        <div id="container">
            <h1>Scan Barcode Produk</h1>
            <p>Tekan tombol di bawah dan sejajarkan kode batang ke kamera Anda</p>

            <a id="btn-scan-qr">
                <img src="../img/qr-scan.png">
            </a>

            <div class="help-line-left"></div>
            <div class="help-line-right"></div>
            <canvas hidden="" id="qr-canvas">
            </canvas>
            <h5 class="helper-warning">Harap sejajarkan barcode dengan baik</h5>

            <div class="form-group">
                <label>Atau masukkan kode produk sebagai gantinya:</label>
                <input type="text" id="product_code_manual" class="form-control" onchange="checkItemCode(this)" placeholder="Product code here">
            </div>
            <div id="qr-result" hidden="">
                <b>Product code detected:</b> <span id="outputData"></span>
            </div>
            <button type="button" id="add-item-to-cart-button" class="btn btn-outline-dark" onclick="addToCart()">Add to cart</button>
        </div>

        <iframe class="productPreview" src=""></iframe>
    <script src="./js/qrCodeScanner.js"></script>
  </body>
</html>
